<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Security-Policy" content="
            default-src 'self' data: gap: https://ssl.gstatic.com https://*.googleapis.com https://maps.gstatic.com https://maps-api-ssl.google.com 'unsafe-eval';
            media-src *;
            style-src 'self' https://*.googleapis.com https://maps-api-ssl.google.com 'unsafe-inline';
            script-src 'self'  https://*.googleapis.com https://maps.gstatic.com https://maps-api-ssl.google.com 'unsafe-inline';
            img-src 'self' data: content: https://*.googleapis.com https://maps.gstatic.com https://maps-api-ssl.google.com;
            font-src 'self' https://*.gstatic.com https://maps-api-ssl.google.com">
    <meta charset="UTF-8">
    <title>Findr</title>
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: rgb(208, 206, 206);
        }

        #map {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>

<body>
    <div id="posit"></div>
    <div id="map"></div>
    <script>
        var map;
        function initMap() {
            var posit = {};
            navigator.geolocation.getCurrentPosition(function (position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
                posit = pos;
                document.querySelector("#posit").textContent = pos.lat + " | " + pos.lng;
                infoWindow.setPosition(pos);
                infoWindow.setContent('Location found.');
                map.setCenter(pos);
            }, function () {
                handleLocationError(true, infoWindow, map.getCenter());
            }, { enableHighAccuracy: true });
            map = new google.maps.Map(document.getElementById('map'), {
                center: posit,
                zoom: 12
            });
            var infoWindow = new google.maps.InfoWindow({ map: map });
            var marker = new google.maps.Marker({
                // The below line is equivalent to writing:
                // position: new google.maps.LatLng(-34.397, 150.644)
                position: posit,
                map: map
            });
            var infowindow = new google.maps.InfoWindow({
                content: '<p>Marker Location:' + marker.getPosition() + '</p>'
            });

            google.maps.event.addListener(marker, 'click', function () {
                infowindow.open(map, marker);
            });
            google.maps.event.addDomListener(window, 'load');
        }

    </script>
    <script type="text/javascript" src="js/key.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQOn6IchqeM1trUSPJwFq3eN9Lj_cS7ss&callback=initMap"
        async defer></script>
    <script type="text/javascript" src="cordova.js"></script>
</body>

</html>